# íŒŒì¼ ì¸ì½”ë”© ìžë™í™” ë ˆì‹œí”¼

## ê°œìš”
Claude Codeì˜ Write, Edit, MultiEdit ë„êµ¬ì—ì„œ ë°œìƒí•˜ëŠ” UTF-8 ì¸ì½”ë”© ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì „ì—­ hooks ì‹œìŠ¤í…œì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

## ë¬¸ì œ ìƒí™©

### Claude Code ë‚´ìž¥ ë„êµ¬ì˜ ì¸ì½”ë”© ë¬¸ì œ
- **Write ë„êµ¬**: í•œê¸€ê³¼ ì´ëª¨ì§€ í¬í•¨ íŒŒì¼ ìƒì„± ì‹œ ì¸ì½”ë”© ê¹¨ì§ ë°œìƒ
- **Edit/MultiEdit ë„êµ¬**: Windows-1252 ë“± ë‹¤ë¥¸ ì¸ì½”ë”©ì„ UTF-8ë¡œ ê°•ì œ ë³€í™˜í•˜ë©° íŠ¹ìˆ˜ë¬¸ìž ì†ìƒ
- **Read ë„êµ¬**: íŠ¹ìˆ˜ë¬¸ìžê°€ í¬í•¨ëœ íŒŒì¼ëª… ì²˜ë¦¬ ë¬¸ì œ

### ì‹¤ì œ ë°œìƒ ì‚¬ë¡€
```bash
# ë¬¸ì œ ì‚¬ë¡€: modify-git.sh íŒŒì¼ ìƒì„± ì‹œ
# Write ë„êµ¬ ì‚¬ìš© â†’ charset=binaryë¡œ ìž˜ëª» ì„¤ì •
# í•œê¸€ê³¼ ì´ëª¨ì§€ê°€ ê¹¨ì ¸ì„œ í‘œì‹œë¨
```

## í•´ê²° ë°©ì•ˆ

### 1. ì „ì—­ PostToolUse Hooks êµ¬í˜„

**ì„¤ì • ìœ„ì¹˜**: `.claude/settings.json`
```json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "bash .claude/scripts/illuwa/validate-utf8-encoding.sh \"$(echo '$TOOL_RESULT' | jq -r '.file_path // empty')\""
          }
        ]
      }
    ]
  }
}
```

### 2. UTF-8 ì¸ì½”ë”© ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸

**ìŠ¤í¬ë¦½íŠ¸ ìœ„ì¹˜**: `.claude/scripts/illuwa/validate-utf8-encoding.sh`

**ì£¼ìš” ê¸°ëŠ¥**:
- íŒŒì¼ ì¸ì½”ë”© ìžë™ ê°ì§€ (`file -I` ëª…ë ¹ì–´ ì‚¬ìš©)
- UTF-8ì´ ì•„ë‹Œ ê²½ìš° ìžë™ ë³€í™˜ (`iconv` ì‚¬ìš©)
- í•œê¸€/ì´ëª¨ì§€ ì½˜í…ì¸  í‘œì‹œ ê²€ì¦
- ë³€í™˜ ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë³µêµ¬

**ë™ìž‘ ê³¼ì •**:
1. Write/Edit/MultiEdit ë„êµ¬ ì‹¤í–‰ í›„ ìžë™ íŠ¸ë¦¬ê±°
2. ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ì˜ ì¸ì½”ë”© í™•ì¸
3. UTF-8ì´ ì•„ë‹Œ ê²½ìš° ë°±ì—… ìƒì„± í›„ ë³€í™˜
4. ë³€í™˜ í›„ ìž¬ê²€ì¦ ë° ê²°ê³¼ ì¶œë ¥

## ìž‘ì—…í•œ ì´ìœ 

### 1. íˆ¬ëª…í•œ ìžë™í™”
- ê°œë°œìžê°€ ì˜ì‹í•˜ì§€ ì•Šì•„ë„ ëª¨ë“  íŒŒì¼ì´ UTF-8ë¡œ ìœ ì§€ë¨
- ìˆ˜ë™ ì¸ì½”ë”© ê²€ì¦ ê³¼ì • ë¶ˆí•„ìš”

### 2. í•œê¸€ ê°œë°œ í™˜ê²½ ìµœì í™”
- í•œêµ­ì–´ ì£¼ì„, ë©”ì‹œì§€, ë¬¸ì„œ ì•ˆì „ ë³´ìž¥
- ì´ëª¨ì§€ ì‚¬ìš© í”„ë¡œì íŠ¸ì—ì„œ í˜¸í™˜ì„± ë¬¸ì œ ë°©ì§€

### 3. í¬ë¡œìŠ¤ í”Œëž«í¼ í˜¸í™˜ì„±
- Windows, macOS, Linux ê°„ íŒŒì¼ ê³µìœ  ì‹œ ì¸ì½”ë”© ë¬¸ì œ ë°©ì§€
- Git ì €ìž¥ì†Œì—ì„œ ì¼ê´€ëœ ì¸ì½”ë”© ìœ ì§€

### 4. CI/CD íŒŒì´í”„ë¼ì¸ ì•ˆì •ì„±
- ë¹Œë“œ í™˜ê²½ì—ì„œ ì¸ì½”ë”© ê´€ë ¨ ì˜¤ë¥˜ ë°©ì§€
- ë°°í¬ ì‹œ ë¬¸ìž ê¹¨ì§ í˜„ìƒ ë°©ì§€

## ê¸°ì¡´ ëŒ€ì•ˆê³¼ì˜ ë¹„êµ

### Bash heredoc ë°©ì‹ (ê¸°ì¡´ í•´ê²°ì±…)
```bash
cat > filename.sh << 'EOF'
#!/bin/bash
echo "í•œê¸€ ë‚´ìš©"
EOF
```
**ìž¥ì **: ì•ˆì „í•œ UTF-8 ë³´ìž¥
**ë‹¨ì **: ë§¤ë²ˆ ìˆ˜ë™ìœ¼ë¡œ ì ìš©í•´ì•¼ í•¨

### Hooks ë°©ì‹ (í˜„ìž¬ êµ¬í˜„)
**ìž¥ì **:
- ì™„ì „ ìžë™í™”
- ëª¨ë“  ë„êµ¬ì— ì¼ê´€ ì ìš©
- ê¸°ì¡´ ì›Œí¬í”Œë¡œìš° ë³€ê²½ ì—†ìŒ

**ë‹¨ì **:
- ì´ˆê¸° ì„¤ì • í•„ìš”
- ì‹œìŠ¤í…œ í™˜ê²½ ì˜ì¡´ì„±

## ì¶”ê°€ ê³ ë ¤ì‚¬í•­

### ì„±ëŠ¥ ì˜í–¥
- íŒŒì¼ ìž‘ì—… í›„ ê²€ì¦ ê³¼ì •ìœ¼ë¡œ ì•½ê°„ì˜ ì§€ì—° ë°œìƒ
- ëŒ€ìš©ëŸ‰ íŒŒì¼ì˜ ê²½ìš° iconv ë³€í™˜ ì‹œê°„ ì†Œìš”

### ì•ˆì „ìž¥ì¹˜
- ë³€í™˜ ì‹¤íŒ¨ ì‹œ ì›ë³¸ íŒŒì¼ ìžë™ ë³µêµ¬
- ë°±ì—… íŒŒì¼ ìƒì„±ìœ¼ë¡œ ë°ì´í„° ì†ì‹¤ ë°©ì§€

### í–¥í›„ ê°œì„  ë°©í–¥
- íŠ¹ì • íŒŒì¼ íƒ€ìž…ë³„ ì˜ˆì™¸ ì²˜ë¦¬ ì¶”ê°€
- ë³€í™˜ ì„±ê³µë¥  ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥
- ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ìµœì í™”

## ì‚¬ìš©ë²•

ì„¤ì • ì™„ë£Œ í›„ ì¼ë°˜ì ì¸ Claude Code ì‚¬ìš©:
```javascript
// ì´ì œ Write ë„êµ¬ ì‚¬ìš© ì‹œ ìžë™ìœ¼ë¡œ UTF-8 ë³´ìž¥
Write({
  file_path: "/path/to/korean-file.sh",
  content: "#!/bin/bash\necho 'í•œê¸€ê³¼ ì´ëª¨ì§€ ðŸ“'"
})
```

## ê²€ì¦ ë°©ë²•

```bash
# ì¸ì½”ë”© í™•ì¸
file -I filename.sh

# ë‚´ìš© í™•ì¸
cat filename.sh

# ìˆ˜ë™ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
bash .claude/scripts/illuwa/validate-utf8-encoding.sh filename.sh
```

ì´ ì‹œìŠ¤í…œì„ í†µí•´ Claude Code ì‚¬ìš© ì‹œ UTF-8 ì¸ì½”ë”© ë¬¸ì œë¥¼ ì™„ì „ížˆ í•´ê²°í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.